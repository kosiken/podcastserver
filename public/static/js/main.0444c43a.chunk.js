(this.webpackJsonppodcasts=this.webpackJsonppodcasts||[]).push([[0],{132:function(e,t,a){},133:function(e,t,a){"use strict";a.r(t);var c=a(0),n=a.n(c),r=a(14),o=a.n(r),i=(a(93),a(16)),s=a(38),l=a(8),d=a(27),u=a(68),p={podcasts:[],color:"#000000",backgroundColor:"#fff0ff",isLoading:!0,page:"grid"};var j=Object(d.c)({app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0,a=e;switch(t.type){case"close":a=Object(l.a)(Object(l.a)({},a),{},{page:"grid"});break;case"podcasts":a=Object(l.a)(Object(l.a)({},a),{},{isLoading:!1,podcasts:t.podcasts});break;case"theme":a=Object(l.a)(Object(l.a)({},a),{},{backgroundColor:t.backgroundColor,color:t.color});break;case"add":a=Object(l.a)(Object(l.a)({},a),{},{podcasts:a.podcasts.concat([t.podcast])});break;case"failure":a=Object(l.a)(Object(l.a)({},a),{},{error:t.error});break;case"select":a=a.podcast&&a.podcast.id===t.podcast.id?Object(l.a)(Object(l.a)({},a),{},{page:"player"}):Object(l.a)(Object(l.a)({},a),{},{podcast:t.podcast,page:"player"});break;default:console.log("Invalid Action -> \n",t)}return a}}),b=Object(d.a)(u.a)(d.d),x=function(){return{store:b(j)}},h=a(7),f=a(69),g=a(161),O=a(162),m=a(163),v=a(159),y=a(2),k=Object(v.a)((function(e){return{root:{display:"flex","max-width":300,margin:20,"flex-direction":"column","-ms-flex-align":"center","align-items":"center",padding:"10px 0",cursor:"pointer"},details:{display:"flex",flexDirection:"column"},controls:{display:"flex",alignItems:"center",paddingLeft:e.spacing(1),paddingBottom:e.spacing(1)},cover:{maxWidth:200,maxHeight:200,width:"90%"},playIcon:{height:38,width:38}}})),w=function(e){var t=e.podcast,a=(e.key,e.onClick,k()),n=Object(i.b)(),r=Object(c.useState)("#ffffff"),o=Object(h.a)(r,2),s=o[0],l=o[1],d=Object(c.useState)("#000000"),u=Object(h.a)(d,2),p=u[0],j=u[1];return Object(c.useEffect)((function(){var e=new Image;t.image&&(e.crossOrigin="Anonymous",e.src=t.image,e.onload=function(){var t=Object(f.a)(e);l(t.backgroundColor),j(t.color)})}),[t.image]),Object(y.jsxs)(g.a,{className:a.root,style:{backgroundColor:s,color:p},onClick:function(){n({type:"theme",backgroundColor:s,color:p}),n({type:"select",podcast:t})},children:[Object(y.jsx)("img",{className:a.cover,src:t.image,alt:t.title_original}),Object(y.jsx)(O.a,{children:Object(y.jsx)(m.a,{style:{fontWeight:"bold",textAlign:"center"},children:t.publisher_original})})]})},C=a(167),S=a(39),N=a(78),E=a(73),I=a.n(E),A=a(52),_=a.n(A),L=function(e){var t=e.selected,a=e.category,c=Object(N.a)(e,["selected","category"]),n=I()(_.a.category,Object(S.a)({},_.a.active,t));return Object(y.jsx)(m.a,Object(l.a)(Object(l.a)({className:n,component:"span"},c),{},{children:a}))},T=a(174),P=a(164),D=a(165),F=Object(v.a)((function(e){return Object(T.a)({root:{flexGrow:1},mhomeIcon:{marginRight:e.spacing(2)},title:{flexGrow:1}})})),B=function(e){e.className;var t=F();return Object(y.jsx)(P.a,{position:"static",style:{backgroundColor:"#ffffff",color:"#000000"},elevation:0,children:Object(y.jsx)(D.a,{children:Object(y.jsx)(m.a,{variant:"h6",className:t.title,children:"Podcasts"})})})},M=a(166),R=a(18),z=a.n(R),G=a(28),W=a(74),H=a(75),J=a(76),K=a.n(J).a.create({baseURL:"https://lionpods.herokuapp.com",headers:{"Content-Type":"application/json"}}),Y=new(function(){function e(t){Object(W.a)(this,e),this.api=void 0,this.api=t}return Object(H.a)(e,[{key:"getPodcasts",value:function(){var e=Object(G.a)(z.a.mark((function e(){var t,a,c=arguments;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.length>0&&void 0!==c[0]?c[0]:{limit:10,page:0},e.prev=1,e.next=4,this.api.get("/podcasts",{params:t});case 4:return a=e.sent,e.abrupt("return",a.data);case 8:throw e.prev=8,e.t0=e.catch(1),new Error("Error while fetching");case 11:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"addPodCast",value:function(){var e=Object(G.a)(z.a.mark((function e(t){var a;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.api.post("/podcasts",{body:{rss:t}});case 3:return a=e.sent,e.abrupt("return",a.data);case 7:throw e.prev=7,e.t0=e.catch(0),new Error("Error while adding");case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getAudio",value:function(){var e=Object(G.a)(z.a.mark((function e(t){var a,c,n,r=arguments;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.length>1&&void 0!==r[1]?r[1]:10,c=r.length>2&&void 0!==r[2]?r[2]:1,e.prev=2,e.next=5,this.api.get("/podcast",{params:{rss:t,limit:a,page:c}});case 5:return n=e.sent,e.abrupt("return",n.data);case 9:throw e.prev=9,e.t0=e.catch(2),new Error("Error while adding");case 12:case"end":return e.stop()}}),e,this,[[2,9]])})));return function(t){return e.apply(this,arguments)}}()}]),e}())(K),U=Object(v.a)((function(e){return{loader:{height:"90vh",display:"flex","justify-content":"center","align-items":"center",width:"100%"}}})),V=function(){var e=U(),t=Object(i.b)(),a=Object(i.c)((function(e){return e.app})),r=a.podcasts,o=a.isLoading,s=a.page,l=Object(c.useState)(""),d=Object(h.a)(l,2),u=d[0],p=d[1],j=Object(c.useState)("All"),b=Object(h.a)(j,2),x=b[0],f=b[1];return n.a.useEffect((function(){Y.getPodcasts({page:1,limit:8}).then((function(e){t({type:"podcasts",podcasts:e}),p("")})).catch((function(e){console.log(e),p(e.message)}))}),[]),u.length?Object(y.jsx)("div",{className:e.loader,children:Object(y.jsx)(m.a,{children:u})}):o?Object(y.jsxs)("div",{className:e.loader,children:[Object(y.jsx)(M.a,{}),Object(y.jsx)("br",{}),Object(y.jsx)(m.a,{children:"Loading Podcasts"})]}):Object(y.jsxs)("div",{className:"disp "+("grid"===s?"":"nill"),children:[Object(y.jsx)(B,{}),Object(y.jsx)("section",{id:"sel",style:{width:"80%",margin:"10px auto 0",padding:"8px"},children:["All","Comedy","Sports","Tech","Lifestyle"].map((function(e,t){return Object(y.jsx)(L,{category:e,selected:x===e,onClick:function(){f(e)}},""+t)}))}),Object(y.jsx)(C.a,{container:!0,className:"podcasts",children:r.map((function(e,t){return Object(y.jsx)(C.a,{item:!0,lg:3,sm:4,xs:6,children:Object(y.jsx)(w,{podcast:e})},"podcast"+t)}))})]})},Z=a(171),q=a(168),Q=a(170),X=a(169),$=a(134),ee=a(30),te=a(172),ae=a(173),ce=a(77),ne=function(e,t){return e.length>t?e.slice(0,t-6)+"...":e},re=function(e){var t=Math.floor(e/60)+":",a=(e%60).toString();return t+(a=a.length<2?"0"+a:a)},oe=Object(v.a)((function(e){return{episode:{display:"flex",alignItems:"center",margin:"2px 0 10px",padding:"2px 5px","justify-content":"center",cursor:"pointer"}}})),ie=function(e){var t=e.episode,a=e.color,c=e.index,r=e.backgroundColor,o=e.onClick,i=void 0===o?function(){}:o,s=oe(),l=n.a.useRef(null),d=Object(ce.a)(l);return Object(y.jsxs)("div",{ref:l,className:s.episode,style:{color:d?r:a,backgroundColor:d?a:r},onClick:function(){i(t,c)},children:[Object(y.jsx)(m.a,{component:"span",style:{flex:1},children:t.episode}),Object(y.jsx)(m.a,{style:{flex:8},children:ne(t.title,35)}),Object(y.jsx)(m.a,{component:"span",variant:"caption",style:{flex:1},children:re(t.duration)})]})};var se=Object(v.a)((function(e){return{main:{"min-width":300,height:"100vh","max-width":500,padding:"0 8px 8px",margin:"0 2px 2px 0","box-shadow":"0px 2px 1px -1px rgba(0,0,0,0.2),0px 1px 1px 0px rgba(0,0,0,0.14),0px 1px 3px 0px rgba(0,0,0,0.12)",display:"flex",flexDirection:"column",width:"30%"},indicator:{width:"100vw",position:"fixed",top:0,zIndex:999,left:0},root:{display:"flex","box-shadow":"none",padding:5,"justify-content":"space-between",width:"100%"},details:{display:"flex",flexDirection:"column"},content:{flex:"1 0 auto"},acb:{display:"block",padding:0},acc:{boxShadow:"none",background:"none",padding:0,"&::before":{background:"none"}},cover:{width:90,height:90},controls:{display:"flex",alignItems:"center",paddingLeft:e.spacing(1),paddingBottom:e.spacing(1),"justify-content":"center"},playIcon:{height:38,width:38},backdrop:{zIndex:e.zIndex.drawer+1},episode:{display:"flex",alignItems:"center",margin:"2px 0 10px",padding:"2px 5px","justify-content":"center",cursor:"pointer"}}})),le=function(){var e=se(),t=n.a.useState(!1),a=Object(h.a)(t,2),r=a[0],o=a[1],l=Object(i.b)(),d=Object(i.c)((function(e){return e.app})),u=d.backgroundColor,p=d.color,j=d.podcast,b=d.page,x=n.a.useState(!1),f=Object(h.a)(x,2),v=f[0],k=f[1],w=n.a.useState(!1),S=Object(h.a)(w,2),N=S[0],E=S[1],I=function(e,t){var a=Object(c.useState)(e),n=Object(h.a)(a,2),r=n[0],o=n[1],i=Object(c.useState)(!1),s=Object(h.a)(i,2),l=s[0],d=s[1];return Object(c.useEffect)((function(){if(!l){d(!0);var a=setTimeout((function(){o(e),d(!1)}),t);return function(){clearTimeout(a)}}}),[e]),[r,l]}(N,200),A=Object(h.a)(I,2),_=A[0],L=A[1],T=n.a.useState(0),P=Object(h.a)(T,2),D=P[0],F=P[1],B=n.a.useState(0),R=Object(h.a)(B,2),W=R[0],H=R[1],J=n.a.useState([]),K=Object(h.a)(J,2),U=K[0],V=K[1],ce=n.a.useState(0),oe=Object(h.a)(ce,2),le=oe[0],de=oe[1],ue=n.a.useState(),pe=Object(h.a)(ue,2),je=pe[0],be=pe[1],xe=n.a.useRef(null),he=n.a.useState(""),fe=Object(h.a)(he,2),ge=fe[0],Oe=fe[1];n.a.useEffect((function(){if(je){var e=xe.current;null!=e&&(N&&e.readyState>=2&&e.play(),N||e.pause())}}),[N]),n.a.useEffect((function(){Object(G.a)(z.a.mark((function e(){var t,a;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(de(0),V([]),be(void 0),t=xe.current,o(!1),E(!1),Oe(""),t&&(t.pause(),t.currentTime=0),void 0!==j){e.next=10;break}return e.abrupt("return");case 10:if(!j.image){e.next=23;break}return e.prev=11,e.next=14,Y.getAudio(j.rss);case 14:a=e.sent,V(a),o(!0),e.next=23;break;case 19:e.prev=19,e.t0=e.catch(11),console.log(e.t0),Oe("Error loading podcast");case 23:case"end":return e.stop()}}),e,null,[[11,19]])})))()}),[j]),n.a.useEffect((function(){if(je){var e=xe.current;e&&(e.pause(),k(!0),e.src=je.src,e.addEventListener("timeupdate",(function(){var t=Math.floor((null===e||void 0===e?void 0:e.currentTime)||0);de(t),je&&H(t/je.duration*100)})),e.play(),E(!0),e.addEventListener("loadeddata",(function(){e&&e.readyState>=2&&(k(!1),E(!0))})))}}),[je]),n.a.useEffect((function(){if(U.length){var e=U[D];if(e.episode!==(null===je||void 0===je?void 0:je.episode)){H(0);var t=xe.current;t&&(t.currentTime=0),be(e)}}}),[D]),n.a.useEffect((function(){console.log("88")}),[u]);return Object(y.jsxs)("div",{className:"main "+("player"===b?"":"none"),style:{backgroundColor:u,color:p},children:[Object(y.jsx)(ae.a,{className:e.backdrop,open:v,children:Object(y.jsx)(M.a,{color:"inherit"})}),Object(y.jsx)(s.a,{children:Object(y.jsxs)("title",{children:[(null===je||void 0===je?void 0:je.title)||(null===j||void 0===j?void 0:j.title_original)||"Podcasts"," "]})}),Object(y.jsx)("div",{id:"back",children:Object(y.jsxs)($.a,{style:{color:p},onClick:function(){l({type:"close"})},children:[" ",Object(y.jsx)(ee.a,{})," "]})}),Object(y.jsx)("div",{style:{height:"65%"},children:j?Object(y.jsxs)(n.a.Fragment,{children:[Object(y.jsxs)(Z.a,{className:e.acc,children:[Object(y.jsx)(q.a,{className:e.acb,"aria-controls":"panel1a-content",id:"panel1a-header",children:Object(y.jsxs)(g.a,{className:e.root,style:{backgroundColor:u,color:p},children:[Object(y.jsxs)("div",{className:e.details,children:[" ",Object(y.jsxs)(O.a,{className:e.content,children:[Object(y.jsx)(m.a,{component:"h5",variant:"h5",children:ne(j.publisher_original,25)}),Object(y.jsx)(m.a,{variant:"subtitle1",children:ne(j.title_original,35)})]})]}),Object(y.jsx)(X.a,{className:e.cover,image:j.image,title:j.title_original})]})}),Object(y.jsx)(Q.a,{style:{display:"block",maxHeight:"300px"},children:Object(y.jsx)(m.a,{component:"span",style:{flex:1},children:j.description_original})})]}),Object(y.jsxs)("div",{style:{height:"70%",overflowY:U.length>5?"scroll":"hidden"},children:[U.map((function(e,t){return Object(y.jsx)(ie,{episode:e,backgroundColor:u,color:p,index:t,onClick:function(e,t){F(t),be(e)}},"episode"+t)})),Object(y.jsx)("div",{style:{textAlign:"center"},children:!r&&Object(y.jsx)(M.a,{color:"inherit"})})]})]}):Object(y.jsx)("div",{})}),Object(y.jsxs)("div",{style:{position:"absolute",bottom:0,left:0,width:"98%",padding:"10px 5px"},children:["  ",Object(y.jsx)(m.a,{style:{fontWeight:"bold",textAlign:"center"},children:ne((null===je||void 0===je?void 0:je.title)||"No episode",35)}),!!ge.length&&Object(y.jsx)(m.a,{style:{textAlign:"center"},variant:"subtitle1",children:ge}),Object(y.jsxs)("div",{className:e.controls,style:{color:p},children:[Object(y.jsx)($.a,{style:{color:p},disabled:!U.length,onClick:function(){D>0&&F(D-1)},children:Object(y.jsx)(ee.e,{})}),Object(y.jsx)($.a,{style:{color:p},disabled:!(null===je||void 0===je?void 0:je.src),onClick:function(){if(xe.current&&!L){var e=xe.current;e.readyState<2||(E(!_),_?e.pause():e&&e.readyState>=2&&e.play())}},children:_?Object(y.jsx)(ee.b,{className:e.playIcon}):Object(y.jsx)(ee.c,{className:e.playIcon})}),Object(y.jsx)($.a,{style:{color:p},disabled:!U.length,onClick:function(){var e=U.length;e&&F(e>D+1?D+1:0)},children:Object(y.jsx)(ee.d,{})})]}),Object(y.jsx)("audio",{ref:xe,children:"Audio not suporteed"}),"   ",Object(y.jsxs)(C.a,{container:!0,spacing:2,style:{alignItems:"center"},children:[Object(y.jsx)(C.a,{item:!0,children:Object(y.jsx)("span",{children:re(le)})}),Object(y.jsx)(C.a,{item:!0,xs:!0,children:Object(y.jsx)(te.a,{value:W,style:{color:p},disabled:!(null===je||void 0===je?void 0:je.src),onChange:function(e,t){var a=xe.current,c=Number(t);if(a&&je){a.pause();var n=Math.round(c/100*je.duration);a.currentTime=n,_&&a&&a.readyState>=2&&a.play()}H(c)}})}),Object(y.jsx)(C.a,{item:!0,children:Object(y.jsx)("span",{children:re((null===je||void 0===je?void 0:je.duration)||0)})})]})]})]})};a(132);var de=function(){var e=x().store;return Object(y.jsxs)("div",{className:"container",children:[Object(y.jsxs)(s.a,{children:[Object(y.jsx)("meta",{property:"og:image",content:"/pods.png"}),Object(y.jsx)("meta",{property:"og:description",content:"A small podcast player"}),Object(y.jsx)("meta",{name:"image",content:"/android-chrome-192x192.png"}),Object(y.jsx)("meta",{name:"description",content:"A small podcast player"}),Object(y.jsx)("meta",{property:"og:title",content:"500 Dash"}),Object(y.jsx)("meta",{name:"twitter:title",content:"Krc Podcasts \u2014 A small podcast player for web"})]}),Object(y.jsxs)(i.a,{store:e,children:[Object(y.jsx)(V,{}),Object(y.jsx)(le,{})]})]})},ue=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,176)).then((function(t){var a=t.getCLS,c=t.getFID,n=t.getFCP,r=t.getLCP,o=t.getTTFB;a(e),c(e),n(e),r(e),o(e)}))};o.a.render(Object(y.jsx)(n.a.StrictMode,{children:Object(y.jsx)(de,{})}),document.getElementById("root")),ue()},52:function(e,t,a){e.exports={category:"Category_category__2tVYK",active:"Category_active__3uZGC"}},93:function(e,t,a){}},[[133,1,2]]]);
//# sourceMappingURL=main.0444c43a.chunk.js.map